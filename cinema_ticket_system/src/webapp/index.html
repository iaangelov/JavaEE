<!DOCTYPE html>
<html>
<head>
<title>Java EE Exercise 2</title>
<link rel="stylesheet" type="text/css" href="styles/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="styles/library.css" />
<script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
<script type="text/javascript">
    $.ajax({
        url : '/rest/movie',
        type : "GET",
        dataType : "json",
        success : function(data, textStatus, jqXHR) {
            drawTable(data);
        }
    });

    function drawTable(data) {
    	var movies = data.movie;
        for (var i = 0; i < movies.length; i++) {
            drawRow(movies[i]);
        }
    }

    function drawRow(rowData) {
        var row = $("<tr />")
        $("#books_table").append(row);
        row.append($("<td>" + rowData.name + "</td>"));
        row.append($("<td>" + rowData.year + "</td>"));
        row.append($("<td>" + rowData.genre + "</td>"));
    }
</script>

</head>
<body>
	<div align="center">
		<h1>Library Application</h1>
	</div>
	<div>
		<table id="books_table" class="table">
			<tr>
				<th>Name</th>
				<th>Year</th>
				<th>Genre</th>
			</tr>
		</table>
	</div>
	
	<a href="register.html" class="register_form"> Register </a>
</body>
</html>